<!DOCTYPE html>
<html lang="en">

<head>
  <%- include ('../partials/head'); -%>
</head>

<body>
  <header>
    <%- include ('../partials/navbar') -%>
  </header>
  <main>
    <h4 class="header">
      <%= page %>
    </h4>
    <div class="row" style="margin-bottom: 0;;margin-left:5px;margin-right:5px;">
      <div class="col s12">
        <p>Cette page documente les différents moyens à disposition des bibliothèques membres du CR PACA/Nice pour
          récupérer leurs lots de données</p>
        <p><i><b>Source des données</b> : Agence bibliographique de l'Enseignement supérieur, BnF</i></p>
      </div>
    </div>
    <div class="row">
      <div class="col s12 m12 l12">
        <div class="row">
          <div class="col s12">
            <ul class="tabs tabs-fixed-width tab-demo z-depth-1">
              <li class="tab col s4"><a href="#api" class="active">API</a></li>
              <li class="tab col s4"><a href="#excel">EXPORT EXCEL</a></li>
              <li class="tab col s4"><a href="#widget">WIDGET</a></li>
            </ul>
          </div>
          <!--tab API-->
          <div id="api" class="col s12">
            <div class="row">
              <div class="col s12">
                <h4 class="">API</h4>
                <p class="caption">Une API est une <i>Interface de programmation applicative</i> qui permet à un
                  logiciel ou une application de redistribuer ses données dans un format structuré (ici du Json). Elle
                  n'est pas destinée à être interprétée par des humains mais à être intégrée informatiquement par des
                  programmes tiers</p>
                <p class="caption">La modélisation de type graphe sous-jacente à cette application permet de ré-exposer
                  différemment une partie des métadonnées de l'Abes et de la BnF : des sous-corpus de donnnées
                  spécifiques aux périodiques du CR PACA/Nice bénéficiant des alignements (appariements) effectués
                  dynamiquement dans la base de données.</p>
                <p class="caption"><i>Cette API ne donne pas accès à l'ensemble des méthodes CRUD usuelles, elle expose
                    seulement les données en lecture avec la méthode GET</i></p>
                <p> <a id="download-source" class="btn waves-effect waves-light btn-small purple lighten-3" href="./apidoc" target="_blanck">Pour
                    les développeurs : documentation Open API (Swagger)<i class="material-icons right">file_download</i></a></p>
              </div>
              <div class="col s12">
                <h5 class="">Url racine</h4>
                  <p>http://sudocps.univ-cotedazur.fr/sudocps-pro-app/api/v1</p>
              </div>

              <div class="col s12">
                <h5 class="">Les unica du CR</h5>
                <p>La requête renvoie l'ensemble des notices d'unica du CR PACA/Nice comprenant les éléments suivants :
                  éléments de titre, identifiants (ppn, issn, ark), bibliothèque possédant le périodique, état de
                  collection dans le Sudoc. </p>
                <div class="row section">
                  <div class="col s2"><b>Syntaxe de la requête</b></div>
                  <div class="col s2">/unicas</div>
                  <div class="col s6">
                    <a id="download-source" class="btn waves-effect waves-light btn-small purple lighten-3"
                      href="./api/v1/unicas" target="_blanck">http://sudocps.univ-cotedazur.fr/sudocps-pro-app/api/v1/unicas<i
                        class="material-icons right">remove_red_eye</i></a>
                  </div>
                </div>
              </div>

              <div class="col s12">
                <h5 class="">Les unica par RCR</h5>
                <p>La requête prend en paramètre le numéro RCR d'une bibliothèque et renvoie la liste de ses unica avec
                  les mêmes données que celles renvoyées par la requête globale cu-dessus</p>
                <div class="row section">
                  <div class="col s2"><b>Syntaxe de la requête</b></div>
                  <div class="col s2">/unicas/rcr/{rcr}</div>
                  <div class="col s6">
                    <a id="download-source" class="btn waves-effect waves-light btn-small purple lighten-3"
                      href="./api/v1/unicas/rcr/060885105"
                      target="_blanck">http://sudocps.univ-cotedazur.fr/sudocps-pro-app/api/v1/unicas/rcr/060885105<i
                        class="material-icons right">remove_red_eye</i></a>
                  </div>
                </div>
              </div>
              <div class="col s12">
                <h5 class="">Les titres de presse locale ancienne</h5>
                <p>La requête renvoie l'ensemble des notices de presse locale ancienne du CR PACA/Nice (couvrant les 2
                  départements des Alpes-Maritimes et du Var, et de la Principauté de Monaco). Elles sont constituées de
                  métdonnées suivantes : titre, identifiants (ppn, issn, ark), bibliothèque possédant le périodique,
                  état de collection dans le Sudoc. </p>
                <div class="row section">
                  <div class="col s2"><b>Syntaxe de la requête</b></div>
                  <div class="col s2">/presselocale</div>
                  <div class="col s6">
                    <a id="download-source" class="btn waves-effect waves-light btn-small purple lighten-3"
                      href="./api/v1/presselocale"
                      target="_blanck">http://sudocps.univ-cotedazur.fr/sudocps-pro-app/api/v1/presselocale<i
                        class="material-icons right">remove_red_eye</i></a>
                  </div>
                </div>
              </div>
              <div class="col s12">
                <h5 class="">La presse locale ancienne par RCR</h5>
                <p>La requête prend en paramètre le numéro RCR d'une bibliothèque et renvoie la liste des titres de
                  presse locale ancienne qu'elle conserve avec les mêmes données que celles renvoyées par la requête
                  globale cu-dessus</p>
                <div class="row section">
                  <div class="col s2"><b>Syntaxe de la requête</b></div>
                  <div class="col s2">/presselocale/rcr/{rcr}</div>
                  <div class="col s6">
                    <a id="download-source" class="btn waves-effect waves-light btn-small purple lighten-3"
                      href="./api/v1/presselocale/rcr/060885105"
                      target="_blanck">http://sudocps.univ-cotedazur.fr/sudocps-pro-app/api/v1/presselocale/rcr/060885105<i
                        class="material-icons right">remove_red_eye</i></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!--tab excel-->
          <div id="excel" class="col s12">
            <div class="row">
              <h4 class="">Exports Excel</h4>
              <p class="caption ">La modélisation de type graphe sous-jacente à cette application permet de ré-exposer
                différemment une partie des métadonnées de l'Abes et de la BnF.
                En effet, les sous-corpus de donnnées spécifiques aux périodiques du CR PACA/Nice bénéficient des
                alignements (appariements) effectués dynamiquement dans la base de données entre les métadonnées issues
                du Sudoc et celles provenant de la BnF via le site Presse locale ancienne.
                Les données exportables en Excel mêlent donc les deux niveaux d'information : les exports ayant pour
                point d'entrée les unica dans le Sudoc contiennent aussi les métadonnées de la BnF pour les titres
                concernés (alignés), et réciproquement pour les exports portant sur le corpus de Presse locale ancienne.
              </p>
              <div class="col s12">
                <div class="row section">
                  <div class="col s12 m6">
                    <h5 class="">Les unica</h5>
                    <div class="col s12">
                      <h6><b>Export de l'ensemble des unica du CR</b></h6>
                      <p><button class="btn waves-effect waves-light btn-small purple lighten-3"
                          onclick="getAllUnicas()">Download<i class="material-icons right">file_download</i></button>
                      </p>
                    </div>
                    <div class="col s12">
                      <h6><b>Export des lots d'unica par bibliothèques</b></h6>
                      <div id="selectbox-unicas-bibs"></div>
                      <input type="hidden" id="selected_unicas_bibs" />
                      <button class="btn waves-effect waves-light btn-small purple lighten-3"
                        onclick="getUnicasByRcr($('#selected_unicas_bibs').val())">Download<i
                          class="material-icons right">file_download</i></button>
                    </div>
                  </div>
                  <div class="col s12 m6">
                    <h5 class="">La presse locale ancienne</h5>
                    <div class="col s12">
                      <h6><b>Export de l'ensemble des titres de presse locale ancienne du CR</b></h6>
                      <p><button class="btn waves-effect waves-light btn-small purple lighten-3"
                          onclick="getAllPresselocale()">Download<i
                            class="material-icons right">file_download</i></button></p>
                    </div>
                    <h6><b>Export des lots de titres de presse locale ancienne par bibliothèque</b></h6>
                    <div id="selectbox-presselocale-bibs"></div>
                    <input type="hidden" id="selected_presselocale_bibs" />
                    <button class="btn waves-effect waves-light btn-small purple lighten-3"
                      onclick="getPresselocaleByRcr($('#selected_presselocale_bibs').val())">Download<i
                        class="material-icons right">file_download</i></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!--tab widget-->
          <div id="widget" class="col s12">
            <div class="row">
              <h4 class="">Intégrer un widget dans une page web externe</h4>
              <p class="caption ">Les widgets web sont des portions de code prêtes à l'emploi pour être insérées dans
                une page web pré-existante. Ce sont donc des blocs de contenus embarqués dans un site, mais indépendants
                et délivrant du contenu provenant d'un autre serveur.</p>
              <p class="caption">Grâce à l'API fournie avec cette application, nous pouvons proposer aux bibliothèques
                qui le souhaitent un script leur permettant d'afficher, par exemple, la liste de leurs unica sur leur
                site.</p>
              <p class="caption">Pour cela, il suffit d'insérer dans le code HTML de la page web qui affichera le widget
                :</p>
              <ol>
                <li>A l'endroit de la page où apparaitra le widget
                  <xmp>
                    <div id="widget"></div>
                  </xmp>
                </li>
                <li>En fin de page avant la balise fermante body (remplacer le numéro rcr 060885105 par le votre)
                  <xmp>
                    <script id="crpacanice-unicabyrcr" src="http://sudocps.univ-cotedazur.fr/sudocps-pro-app/api/v1/widget"
                      rcr="060885105"></script>
                  </xmp>
                </li>
              </ol>
          </div>
        </div>
      </div>
    </div>
  </main>
  <%- include ('../partials/footer') -%>
</body>
<%- include ('../partials/script') -%>
  <script src="./scripts/export.js"></script>
</html>